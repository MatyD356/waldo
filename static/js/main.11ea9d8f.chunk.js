(this.webpackJsonpwaldo=this.webpackJsonpwaldo||[]).push([[0],[,,,,,,,,,,,,function(e,t,a){e.exports=a(29)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(10),s=a.n(o),r=a(1),l=(a(17),a(18),a(19),function(e){var t=e.cords,a=e.main,o=e.name;Object(n.useEffect)((function(){if(t.x>50||t.y>50)document.documentElement.style.setProperty("--".concat(o||"","x"),t.x-25+"px"),document.documentElement.style.setProperty("--".concat(o||"","y"),t.y-25+"px");else if(a){var e=s();document.documentElement.style.setProperty("--x",e.x+t.x-25+"px"),document.documentElement.style.setProperty("--y",e.y+t.y-25+"px")}}));var s=function(){var e=document.querySelector(".Circle"),t=getComputedStyle(e);return{x:parseInt(t.left,10),y:parseInt(t.top,10)}};return c.a.createElement("div",{className:"Circle ".concat(o||"")})}),i=a(11),m=a(3);a(22),a(24),a(25);m.initializeApp({apiKey:"AIzaSyAs1EKjtjjAWXZVhCRPGBKK7gnbxAAdaY4",authDomain:"waldo-12be8.firebaseapp.com",databaseURL:"https://waldo-12be8.firebaseio.com",projectId:"waldo-12be8",storageBucket:"waldo-12be8.appspot.com",messagingSenderId:"464683515854",appId:"1:464683515854:web:a656911e30c6f158c7f59f"});var u=function(){m.auth().signInAnonymously().catch((function(e){e&&console.log(e)}))},d=m.firestore(),f=m.storage().ref(),h=function(e){var t=e.imgName,a=e.updateCharacters,n=e.gameOn,o=e.updateGameOn,s=e.loadImage,r=e.setImgName,l="picture-one"===t?"red":"yellow";return c.a.createElement("div",{className:"game-controls ".concat(l)},c.a.createElement("button",{className:"control-button",onClick:function(){var e,c;r(t),function(e,t){f.child("images/".concat(t)).getDownloadURL().then((function(t){e(t)})).catch((function(e){e.code}))}(s,"".concat(t,"-min.png")),e=a,c="".concat(t),u(),d.collection(c).doc("characters").get().then((function(t){if(t.exists){var a=t.data().cords;e(a)}else console.log("No such document!")})).catch((function(e){console.log("Error getting document:",e)})),o(!n)}},"Start"))},E=(a(26),function(e){var t=e.time,a=e.imgName,o=Object(n.useState)([]),s=Object(r.a)(o,2),l=s[0],m=s[1],f=Object(n.useState)(""),h=Object(r.a)(f,2),E=h[0],g=h[1],p=Object(n.useState)(!1),N=Object(r.a)(p,2),y=N[0],b=N[1],v=function(){!function(e,t,a,n){u();var c=d.collection(n).doc("scores");c.get().then((function(o){if(o.exists){var s=o.data().scores;return d.collection(n).doc("scores").set({scores:[].concat(Object(i.a)(s),[{name:t,time:a}])}),c.get().then((function(t){e(t.data().scores.sort((function(e,t){return 60*e.time.minutes+e.time.seconds-(60*t.time.minutes+t.time.seconds)})))})),s}console.log("No such document!")})).catch((function(e){console.log("Error getting document:",e)}))}(m,E,t,a)};return c.a.createElement("div",{className:"win-alert"},y?null:c.a.createElement("div",{className:"win-alert-buttons"},c.a.createElement("h2",{className:"win-alert-title"},"Nice job"),c.a.createElement("input",{type:"text",onChange:function(e){g(e.target.value)},className:"win-alert-input",placeholder:"Name"}),c.a.createElement("button",{className:"win-alert-button",onClick:function(){v(),b(!0)}},"Save score")),y?c.a.createElement("div",{className:"win-alert-scores"},c.a.createElement("h2",{className:"win-alert-title"},"Scores"),c.a.createElement("ul",{className:"win-alert-list"},l.length>0?l.map((function(e,t){return c.a.createElement("li",{className:"win-alert-list-item",key:t},c.a.createElement("p",null,"Name: ",e.name),c.a.createElement("p",null,"Time: ",e.time.minutes<10?"0".concat(e.time.minutes):e.time.minutes,":",e.time.seconds<10?"0".concat(e.time.seconds):e.time.seconds))})):null)):null)}),g=(a(27),function(e){var t=e.setHowTo;return c.a.createElement("div",{className:"GameInfo"},c.a.createElement("h2",{className:"GameInfo-title"},"How to play this game"),c.a.createElement("ul",{className:"GameInfo-list"},c.a.createElement("li",{className:"GameInfo-list-item"},"1. Chose a photo to play"),c.a.createElement("li",{className:"GameInfo-list-item"},"2. Check out characters that u will need to find (they will appear on left)"),c.a.createElement("li",{className:"GameInfo-list-item"},"3. Try to find all characters hidden in you'r photo"),c.a.createElement("li",{className:"GameInfo-list-item"},"4. The game will count your time so make it as fast as u can"),c.a.createElement("li",{className:"GameInfo-list-item"},"5. After u finish write your name and save your score"),c.a.createElement("li",{className:"GameInfo-list-item"},"6. Congrats u found Waldo (u can try to beat your score)")),c.a.createElement("button",{onClick:function(){return t(!1)},className:"GameInfo-button"},"Got it"))}),p=function(e){var t=e.win,a=e.setWin,o=e.characters,s=e.updateCharacters,i=e.gameOn,m=e.updateGameOn,u=e.currentImg,d=e.loadImage,f=e.time,p=e.setHowTo,N=e.howTo,y=Object(n.useState)({x:-1e3,y:-1e3}),b=Object(r.a)(y,2),v=b[0],w=b[1],O=Object(n.useState)(""),j=Object(r.a)(O,2),I=j[0],x=j[1];Object(n.useEffect)((function(){s(o.map((function(e){return e.x<v.x+25&&e.x>v.x-25&&e.y<v.y+25&&e.y>v.y-25?(e.hit=!0,e):e})))}),[JSON.stringify(o),v.x,v.y]),Object(n.useEffect)((function(){o.length>1&&(o.filter((function(e){return!0===e.hit})).length===o.length&&a(!0))}),[JSON.stringify(o)]);return c.a.createElement("div",{className:"PhotoContainer"},N?c.a.createElement(g,{setHowTo:p}):i?c.a.createElement("img",{onClick:function(e){var t=e.nativeEvent.offsetX,a=e.nativeEvent.offsetY;w({x:t,y:a})},className:"waldoPhoto",src:"".concat(u),alt:"waldo one"}):c.a.createElement("div",{className:"game-controls-container"},c.a.createElement(h,{setImgName:x,imgName:"picture-one",loadImage:d,gameOn:i,updateGameOn:m,updateCharacters:s}),c.a.createElement(h,{setImgName:x,imgName:"picture-two",loadImage:d,gameOn:i,updateGameOn:m,updateCharacters:s})),o?o.map((function(e,a){return e.hit&&!t?c.a.createElement(l,{key:a,cords:{x:e.x,y:e.y},main:!1,name:e.name}):null})):null,v?c.a.createElement(l,{cords:v,main:!0}):null,t?c.a.createElement(E,{imgName:I,time:f}):null)},N=function(e){var t=e.reset,a=e.setHowTo;return c.a.createElement("nav",null,c.a.createElement("ul",{className:"nav-list"},c.a.createElement("li",{className:"nav-item",onClick:function(){return t()}},"Home"),c.a.createElement("li",{className:"nav-item",onClick:function(){return a(!0)}},"How to play?")))},y=function(e){var t=e.characters;return c.a.createElement("ul",{className:"character-list"},t.map((function(e){return c.a.createElement("li",{className:"character-item",key:e.x},c.a.createElement("img",{alt:"",className:"avatar",src:e.img}),c.a.createElement("span",{className:!1===e.hit?"red":"green"},e.name))})))},b=(a(28),function(e){var t=e.win,a=e.characters,o=e.gameOn,s=e.currentImg,r=e.time,l=e.setTime,i=e.reset,m=e.setHowTo;return Object(n.useEffect)((function(){if(o&&!t){var e=setInterval((function(){59===r.seconds?l((function(e){return{minutes:e.minutes+1,seconds:0}})):l((function(e){return{minutes:e.minutes,seconds:e.seconds+1}}))}),1e3);return function(){return clearInterval(e)}}}),[o,t,l,r.seconds]),c.a.createElement("aside",{className:"AsideMenu"},c.a.createElement("h1",{className:"title"},"Where's Waldo"),c.a.createElement(N,{reset:i,setHowTo:m}),s?c.a.createElement(y,{characters:a}):c.a.createElement("h2",{className:"sub-title"},"Choose a picture"),c.a.createElement("div",null,c.a.createElement("h2",{className:"sub-title"},"Find Waldo and his friends"),c.a.createElement("h2",null,"Your time"),c.a.createElement("p",null,r.minutes<10?"0".concat(r.minutes):r.minutes,":",r.seconds<10?"0".concat(r.seconds):r.seconds)))});var v=function(){var e=Object(n.useState)([]),t=Object(r.a)(e,2),a=t[0],o=t[1],s=Object(n.useState)(""),l=Object(r.a)(s,2),i=l[0],m=l[1],u=Object(n.useState)(!1),d=Object(r.a)(u,2),f=d[0],h=d[1],E=Object(n.useState)(!1),g=Object(r.a)(E,2),N=g[0],y=g[1],v=Object(n.useState)(!1),w=Object(r.a)(v,2),O=w[0],j=w[1],I=Object(n.useState)({minutes:0,seconds:0}),x=Object(r.a)(I,2),C=x[0],S=x[1];return c.a.createElement("div",{className:"App"},c.a.createElement(b,{setHowTo:j,reset:function(){j(!1),o([]),m(""),h(!1),y(!1),S({minutes:0,seconds:0})},win:N,characters:a,currentImg:i,time:C,setTime:S,gameOn:f}),c.a.createElement("main",null,c.a.createElement(p,{setHowTo:j,howTo:O,win:N,time:C,setTime:S,setWin:y,currentImg:i,loadImage:m,characters:a,updateCharacters:o,gameOn:f,updateGameOn:h})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[12,1,2]]]);
//# sourceMappingURL=main.11ea9d8f.chunk.js.map